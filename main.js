(()=>{const e=document.getElementById("add-project"),t=document.getElementById("overlay-project"),n=document.getElementById("overlay-add-project"),c=document.getElementById("overlay-cancel-project"),d=document.getElementById("add-task"),o=document.getElementById("overlay-task"),r=document.getElementById("overlay-add-task"),s=document.getElementById("overlay-cancel-task"),a=(document.getElementById("delete-project"),document.getElementById("delete-task"),document.querySelector(".complete"),document.querySelector(".projects"));let l=[];function i(e,t){this.name=e,this.description=t,this.tasks=[]}function m(e,t,n){this.name=e,this.description=t,this.dueDate=n}function u(e){const t=document.querySelector(".project-name"),n=document.querySelector(".project-description"),c=document.querySelector(".tasks");t.textContent=e.name,n.textContent=e.description,c.innerHTML="",e.tasks.forEach((e=>{c.appendChild(function(e){const t=document.createElement("li");t.classList.add("task");const n=document.createElement("h4");n.classList.add("task-name"),n.textContent=e.name;const c=document.createElement("h5");c.classList.add("task-description"),c.textContent=e.description;const d=document.createElement("h5");d.classList.add("task-due-date"),d.textContent=e.dueDate;const o=document.createElement("button");o.classList.add("complete"),o.textContent="complete",o.addEventListener("click",(()=>{currentProject.tasks.splice(currentProject.tasks.indexOf(e),1),u(currentProject)}));const r=document.createElement("button");return r.classList.add("delete"),r.setAttribute("id","delete-task"),r.textContent="delete",r.addEventListener("click",(()=>{currentProject.tasks.splice(currentProject.tasks.indexOf(e),1),u(currentProject)})),t.appendChild(n),t.appendChild(c),t.appendChild(d),t.appendChild(o),t.appendChild(r),t}(e))}))}currentProject=new i("",""),e.addEventListener("click",(()=>{t.style.display="flex"})),n.addEventListener("click",(function(){let e=document.getElementById("form-project"),n=new FormData(e);const c=new i(n.get("name"),n.get("description"));currentProject=c,l.push(c),t.style.display="none",newProjectNav=document.createElement("li"),newProjectNav.textContent=c.name,newProjectNav.addEventListener("click",(()=>{currentProject=c,u(c)})),a.appendChild(newProjectNav),currentProject=c,u(c)})),c.addEventListener("click",(()=>{t.style.display="none"})),d.addEventListener("click",(()=>{o.style.display="flex"})),r.addEventListener("click",(function(){let e=document.getElementById("form-task"),t=new FormData(e);const n=new m(t.get("name"),t.get("description"),t.get("due-date"));currentProject.tasks.push(n),o.style.display="none",u(currentProject)})),s.addEventListener("click",(()=>{o.style.display="none"}))})();